<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      #add-btn {
        padding: 5px 10px;
        border: 0;
        color: white;
        background-color: #f80;
        border-radius: 5px;
      }
      ul {
        padding: 0;
        list-style-position: inside;
      }
      li {
        border-bottom: 1px solid #999;
        padding: 5px 0;
      }
      .active {
        background: #abc;
      }
    </style>
  </head>
  <body>
    <h2 id="title">할일 목록</h2>
    <button id="add-btn">목록 추가</button>
    <ul id="list">
      <li>제목1</li>
      <li>제목2</li>
      <li>제목3</li>
      <li>제목4</li>
    </ul>
    <script>
      var title = document.getElementById("title");
      var list = document.getElementById("list");
      var li = list.getElementsByTagName("li");
      var addBtn = document.getElementById("add-btn");

      //이벤트 리스너
      list.addEventListener("click", activeItem);

      function activeItem(event) {
        //클릭한 노드가 li일 경우
        if (event.target.nodeName == "LI") {
          title.innerHTML = event.target.innerText;

          //목록 스타일 초기화
          for (var i = 0; i < event.target.parentNode.children.length; i++) {
            event.target.parentNode.children[i].removeAttribute("class");
          }
          //클릭한 목록 스타일 지정
          event.target.setAttribute("class", "active");
        }
      }

      addBtn.addEventListener("click", function () {
        var text = prompt("제목 입력");
        list.innerHTML += "<li>" + text + "</li>";
      });
    </script>
  </body>
</html>
